<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
  
    {% for field in form %}
      {% if field.name == "passport_photo" %}
        <p>
          {{ field.label_tag }}<br>
          {% if form.instance.passport_photo and form.instance.passport_photo.url %}
            <img id="passportPreview" src="{{ form.instance.passport_photo.url }}" alt="Passport Photo" width="150">
          {% else %}
            <img id="passportPreview" src="#" alt="Passport Photo" width="150" style="display: none;">
          {% endif %}
          <br>
          {{ field }}
        </p>
      {% else %}
        <p>
          {{ field.label_tag }}<br>
          {{ field }}
          {% if field.help_text %}
            <small style="color:gray;">{{ field.help_text }}</small>
          {% endif %}
        </p>
      {% endif %}
    {% endfor %}
  
    <button type="submit" class="btn btn-primary">Create Trainee</button>
  </form>

<!-- JavaScript for live passport photo preview -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
      const fileInput = document.querySelector("#id_passport_photo");
      if (fileInput) {
        const previewImage = document.querySelector("#passportPreview");
        fileInput.addEventListener("change", function (event) {
          const file = event.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
              previewImage.src = e.target.result;
              previewImage.style.display = "block";
            };
            reader.readAsDataURL(file);
          }
        });
      }
    });
  </script>


















